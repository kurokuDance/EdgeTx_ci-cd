//
// WARNING: DO NOT EDIT THIS FILE
//   This file has been generated from the target's JSON hardware description
//

{% set main_inputs = adc_inputs.inputs | selectattr('type', '==', 'STICK') | list %}
{% set flex_inputs = adc_inputs.inputs | selectattr('type', '==', 'FLEX') | list %}

struct legacy_input_t {
  const char* legacy;
  uint16_t    src_raw;
};

static const legacy_input_t _legacy_inputs[] = {
  // main inputs
  {% for input in main_inputs %}
    {% set li = legacy_inputs[input.name] %}
    { "{{ li.yaml }}", MIXSRC_FIRST_STICK + {{ loop.index0 }} },
  {% endfor %}
  // flex inputs
  {% for input in flex_inputs %}
    {% set li = legacy_inputs[input.name] %}
    { "{{ li.yaml }}", MIXSRC_FIRST_POT + {{ loop.index0 }} },
  {% endfor %}
  // trims
  {% set trims_count =  trims | count %}
  {% for n in range(trims_count) %}
    {% if n < (main_inputs | length) %}
      {% set input = main_inputs[loop.index0] %}
      {% set li = legacy_inputs[input.name] %}
    { "Trim{{ li.yaml }}", MIXSRC_FIRST_TRIM + {{ loop.index0 }} },
    {% else %}
    { "TrimT{{ loop.index }}", MIXSRC_FIRST_TRIM + {{ loop.index0 }} },
    {% endif %}
  {% endfor %}
};
